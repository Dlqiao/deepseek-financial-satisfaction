# DeepSeek 金融垂域股票分析满意度提升项目

[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![DeepSeek](https://img.shields.io/badge/Model-DeepSeek--R1-green)](https://deepseek.com)

## 📌 项目背景

在金融投资领域，大语言模型的应用面临三大核心挑战：
- **事实幻觉**：模型可能编造财务数据
- **长尾知识匮乏**：对小市值股票分析深度不足（"吃不饱"问题）
- **时效性滞后**：无法及时反映最新财报和市场变化

本项目旨在通过**数据驱动的方法论**，系统性地提升DeepSeek在股票分析场景的回答质量和用户满意度。

## 🎯 核心目标

| 指标 | 优化前 | 目标值 | 提升幅度 |
|------|--------|--------|----------|
| 金融垂域NPS | -5% | +20% | 25pp |
| 长尾股票满意度 | 53% | 75% | 22pp |
| 事实错误率 | 18% | <6% | 67% |
| 用户次周留存率 | 32% | 40%+ | 8pp+ |

## 🏗️ 系统架构
用户查询 → 意图识别 → 策略路由 → 数据增强 → 模型生成 → 质量评估 → 反馈收集
↓ ↓ ↓ ↓ ↓
股票领域分类 RAG增强 财务数据库 结构化Prompt 满意度预测

## 🔍 核心功能模块

### 1. 数据采集与处理
- 实时接入Tushare Pro金融数据接口[citation:1]
- 多源数据整合（实时行情、财务指标、新闻舆情）
- 数据质量监控与异常检测

### 2. 特征工程
- 技术指标计算（MACD、RSI、均线等）
- 基本面因子（PE、PB、ROE、营收增长率）
- 市场情绪指标（新闻情感分析）

### 3. AB实验平台
- 用户分流与实验配置
- 实时效果监控
- 反转实验设计

### 4. 因果推断引擎
- 倾向性评分匹配(PSM)
- 双重差分模型(DID)
- 工具变量法

### 5. 满意度预测模型
- 用户行为特征建模
- 回答质量评估
- NPS预测

## 📊 关键发现

### "吃不饱"现象的量化分析

通过对2024年Q4的用户查询分析，我们发现：

| 股票类型 | 平均回答长度 | 包含财务数据比例 | 用户满意度 |
|----------|--------------|------------------|------------|
| 大盘股(市值>1000亿) | 1250字 | 92% | 78% |
| 中盘股(100-1000亿) | 890字 | 76% | 65% |
| 小盘股(10-100亿) | 520字 | 43% | 53% |
| 微盘股(<10亿) | 310字 | 21% | 41% |

**结论**：模型在小市值股票上的分析深度和准确性与大盘股存在显著差距，这是满意度低下的核心原因。

## 🚀 快速开始

### 环境配置

